# Client Method Reference

All methods return promises.

## Core Channel Management Methods

### transfer 

Makes a simple end-to-end transfer from one user's balance to another.

```javascript
transfer: (TransferParams) =>  Promise<ChannelState>
```

#### Example
```javascript
const payload: TransferParams = { 
  recipient: "0xabcdef"
  meta: "Metadata for transfer"
  amount: "1000" // in Wei
  assetId: "0x0" // represents ETH
}

await transfer(payload)
```

### deposit

Deposits funds from a user's onchain wallet to a channel.

```javascript
deposit: (DepositParams) => Promise<ChannelState>
```

#### Example
```javascript
// Making a deposit in ETH
const payload: AssetAmount = { 
  amount: '0x3abc', // represented as bignumber
  assetId: '0x0'    // i.e. Eth
}

deposit(payload)
```


### exchange

Conducts an in-flight swap from one asset to another.

```javascript
exchange: (ExchangeParams) => Promise<ChannelState>
```

#### Example
```javascript
const payload: ExchangeParams = { 
  amount: "100" // in Wei
  toAssetId: "0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359" // Dai
  fromAssetId: "0x0" // ETH
}

await exchange(payload)
```


### on

Starts an event listener for channel events. See [Advanced - Event Monitoring](../advanced.md#event-monitoring) for a list of channel events.

```javascript
on: (event: ConnextEvent, (cb: any => any) => void) => void
```

#### Example
```javascript
```


### recipientNeedsCollateral

Signal to the intermediate node that the recipient of the payment needs collateral before the payment can be completed.

```javascript
recipientNeedsCollateral: (string, PartialPayment Payment) => Promise<string|null>
```

#### Example
```javascript
```


### redeem

Redeems a payment using a secret pregenerated by the sender. Useful for onboarding / airdropping.

```javascript
redeem: (string) => Promise<string>
```

#### Example
```javascript
```



### withdraw 

Withdraws funds from a channel to a specified onchain recipient.

```javascript
withdraw: (WithdrawParams) => Promise<ChannelState>
```

#### Example
```javascript
const payload: WithdrawParams = { 
  recipient: // defaults to signer
  amount: "100"
  assetId: "0x0"
}

await withdraw(payload)
```


## Generalized State Methods 

### installApp

```javascript
installApp: (InstallAppParams) => Promise<ChannelState>
```

#### Example
```javascript
```


### uninstallApp

```javascript
uninstallApp: (UninstallAppParams) => Promise<ChannelState>
```

#### Example
```javascript
```


### takeAction

```javascript
takeAction: (takeActionParams) => Promise<AppState>
```

#### Example
```javascript
```


### getHistory

```javascript
getHistory: () => Promise<AppState[]>
```

#### Example
```javascript
```


### getHistoryById

```javascript
getHistoryById: (id) => Promise<AppState>
```

#### Example
```javascript
```


### getProfileConfig

```javascript
getProfileConfig: () => Promise<PaymentProfile>
```

#### Example
```javascript
```


### startProfileSession
```javascript
startProfileSession: (string) => Promise<void>
```

#### Example
```javascript
```


### getChannelState

```javascript
getChannelState: () => Promise<ChannelState>
```

#### Example
```javascript
```


### getAppState

```javascript
getAppState: (string) => Promise<AppState>
```

#### Example
```javascript
```


### getApps

```javascript
getApps: () => Promise<string[]>
```

#### Example
```javascript
```


### getFreeBalance

```javascript
getFreeBalance: () => //TODO
```

#### Example
```javascript
```


## Low Level Channel API (mapped to CF node)

### createChannel

```javascript
createChannel: () => Promise<string>
```

#### Example
```javascript
```


### proposeInstall

```javascript
proposeInstall: (LowLevelProposeInstallParams) => Promise<string>
```

#### Example
```javascript
```


### install

```javascript
install: (LowLevelInstallParams) => Promise<AppInstance>
```

#### Example
```javascript
```


### rejectInstall

```javascript
rejectInstall: (LowLevelRejectInstallParams) => void
```

#### Example
```javascript
```


### proposeInstallVirtual

```javascript
proposeInstallVirtual: (LowLevelProposeInstallVirtualParams) => Promise<string>
```

#### Example
```javascript
```


### installVirtual

```javascript
installVirtual: (LowLevelInstallVirtualParams) => Promise<AppInstance>
```

#### Example
```javascript
```


### proposeState

```javascript
proposeState: (LowLevelProposeStateParams) => //TODO (CF)
```

#### Example
```javascript
```


### updateState

```javascript
updateState: (LowLevelUpdateStateParams) => //TODO (CF)
```

#### Example
```javascript
```


### rejectState

```javascript
rejectState: (LowLevelRejectStateParams) => //TODO (CF)
```

#### Example
```javascript
```


### getProposedAppInstance

```javascript
getProposedAppInstance: () => Promise<AppInstance[]>
```

#### Example
```javascript
```



