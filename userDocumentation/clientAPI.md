# Client Method Reference

All methods return promises.

## Core Channel Management Methods

### transfer 

Makes a simple end-to-end transfer from one user's balance to another.

```javascript
transfer: (TransferParams) =>  Promise<ChannelState>
```

### deposit

Deposits funds from a user's onchain wallet to a channel.

```javascript
deposit: (DepositParams) => Promise<ChannelState>
```

### exchange

Conducts an in-flight swap from one asset to another.

```javascript
exchange: (ExchangeParams) => Promise<ChannelState>
```

### on

Starts an event listener for channel events. See [Advanced - Event Monitoring](../advanced.md#event-monitoring) for a list of channel events.

```javascript
on: (event: ConnextEvent, (cb: any => any) => void) => void
```

### recipientNeedsCollateral

Signal to the intermediate node that the recipient of the payment needs collateral before the payment can be completed.

```javascript
recipientNeedsCollateral: (string, PartialPayment Payment) => Promise<string|null>
```

### redeem

Redeems a payment using a secret pregenerated by the sender. Useful for onboarding / airdropping.

```javascript
redeem: (string) => Promise<string>
```


### withdraw 

Withdraws funds from a channel to a specified onchain recipient.

```javascript
withdraw: (WithdrawParams) => Promise<ChannelState>
```

## Generalized State Methods 

### installApp

```javascript
installApp: (InstallAppParams) => Promise<ChannelState>
```

### uninstallApp

```javascript
uninstallApp: (UninstallAppParams) => Promise<ChannelState>
```

### takeAction

```javascript
takeAction: (takeActionParams) => Promise<AppState>
```

### getHistory

```javascript
getHistory: () => Promise<AppState[]>
```

### getHistoryById

```javascript
getHistoryById: (id) => Promise<AppState>
```

### getProfileConfig

```javascript
getProfileConfig: () => Promise<PaymentProfile>
```

### startProfileSession
```javascript
startProfileSession: (string) => Promise<void>
```

### getChannelState

```javascript
getChannelState: () => Promise<ChannelState>
```

### getAppState

```javascript
getAppState: (string) => Promise<AppState>
```

### getApps

```javascript
getApps: () => Promise<string[]>
```

### getFreeBalance

```javascript
getFreeBalance: () => //TODO
```

## Low Level Channel API (mapped to CF node)

### createChannel

```javascript
createChannel: () => Promise<string>
```

### proposeInstall

```javascript
proposeInstall: (LowLevelProposeInstallParams) => Promise<string>
```

### install

```javascript
install: (LowLevelInstallParams) => Promise<AppInstance>
```

### rejectInstall

```javascript
rejectInstall: (LowLevelRejectInstallParams) => void
```

### proposeInstallVirtual

```javascript
proposeInstallVirtual: (LowLevelProposeInstallVirtualParams) => Promise<string>
```

### installVirtual

```javascript
installVirtual: (LowLevelInstallVirtualParams) => Promise<AppInstance>
```

### proposeState

```javascript
proposeState: (LowLevelProposeStateParams) => //TODO (CF)
```

### updateState

```javascript
updateState: (LowLevelUpdateStateParams) => //TODO (CF)
```

### rejectState

```javascript
rejectState: (LowLevelRejectStateParams) => //TODO (CF)
```

### getProposedAppInstance
getProposedAppInstance: () => Promise<AppInstance[]>
```
